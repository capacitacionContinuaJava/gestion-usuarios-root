-- public.rhtcompany definition

-- Drop table

-- DROP TABLE public.rhtcompany;

CREATE TABLE public.rhtcompany (
	company_id numeric NOT NULL, -- Secuencial para código de la compañia
	"name" varchar NOT NULL, -- Nombre de la compañia
	address varchar NOT NULL, -- Dirección de la compañia
	phone_number varchar NULL, -- Télefono de la compañia
	status bool NULL, -- Estado del registro
	create_user_id varchar NOT NULL, -- Usuario que crea el registro
	create_date timestamp NOT NULL, -- Fecha creación del registro
	modified_user_id varchar NULL, -- Usuario que modifica el registro
	modified_date timestamp NULL, -- Fecha modificación del registro
	CONSTRAINT rhpkcompany PRIMARY KEY (company_id)
);
COMMENT ON TABLE public.rhtcompany IS 'Tabla para registar información de la empresa';

-- Column comments

COMMENT ON COLUMN public.rhtcompany.company_id IS 'Secuencial para código de la compañia';
COMMENT ON COLUMN public.rhtcompany."name" IS 'Nombre de la compañia';
COMMENT ON COLUMN public.rhtcompany.address IS 'Dirección de la compañia';
COMMENT ON COLUMN public.rhtcompany.phone_number IS 'Télefono de la compañia';
COMMENT ON COLUMN public.rhtcompany.status IS 'Estado del registro';
COMMENT ON COLUMN public.rhtcompany.create_user_id IS 'Usuario que crea el registro';
COMMENT ON COLUMN public.rhtcompany.create_date IS 'Fecha creación del registro';
COMMENT ON COLUMN public.rhtcompany.modified_user_id IS 'Usuario que modifica el registro';
COMMENT ON COLUMN public.rhtcompany.modified_date IS 'Fecha modificación del registro';


-- public.rhtperson definition

-- Drop table

-- DROP TABLE public.rhtperson;

CREATE TABLE public.rhtperson (
	person_id numeric NOT NULL,
	first_name varchar NOT NULL,
	last_name varchar NOT NULL,
	document_number varchar NOT NULL,
	document_type varchar NOT NULL,
	status bool NULL,
	create_date timestamp NOT NULL,
	create_user_id varchar NOT NULL,
	modified_user_id varchar NULL,
	modified_date timestamp NULL,
	CONSTRAINT rhpkperson PRIMARY KEY (person_id)
);


-- public.rhtclient definition

-- Drop table

-- DROP TABLE public.rhtclient;

CREATE TABLE public.rhtclient (
	client_id numeric NOT NULL, -- Secuencial de base de datos para el id de cliente
	person_id numeric NOT NULL, -- Clave foranea de la tabla persona
	company_id numeric NOT NULL, -- Clave foranea de la tabla compañia
	status bool NOT NULL, -- Estado del registro en la base de datos
	create_user_id varchar NOT NULL, -- Usuario creación del registro en la base de datos
	create_date timestamp NOT NULL, -- Fecha creación del registro
	modified_user_id varchar NULL, -- Usuario que modifica el registro
	modified_date timestamp NULL, -- Fecha de modificación del registro	
	CONSTRAINT rhpkclient PRIMARY KEY (client_id),
	CONSTRAINT rhpkclient_company FOREIGN KEY (company_id) REFERENCES public.rhtcompany(company_id),
	CONSTRAINT rhpkclient_person FOREIGN KEY (person_id) REFERENCES public.rhtperson(person_id)
);
COMMENT ON TABLE public.rhtclient IS 'Tabla para registrar informción de los clientes';

-- Column comments

COMMENT ON COLUMN public.rhtclient.client_id IS 'Secuencial de base de datos para el id de cliente';
COMMENT ON COLUMN public.rhtclient.status IS 'Estado del registro en la base de datos';
COMMENT ON COLUMN public.rhtclient.create_user_id IS 'Usuario creación del registro en la base de datos';
COMMENT ON COLUMN public.rhtclient.create_date IS 'Fecha creación del registro';
COMMENT ON COLUMN public.rhtclient.modified_user_id IS 'Usuario que modifica el registro';
COMMENT ON COLUMN public.rhtclient.modified_date IS 'Fecha de modificación del registro';
COMMENT ON COLUMN public.rhtclient.person_id IS 'Clave foranea de la tabla persona';
COMMENT ON COLUMN public.rhtclient.company_id IS 'Clave foranea de la tabla compañia';


-- public.rhtemployee definition

-- Drop table

-- DROP TABLE public.rhtemployee;

CREATE TABLE public.rhtemployee (
	employee_id int4 NOT NULL,
	person_id numeric NOT NULL,
	company_id numeric NOT NULL, -- Codigo de compañia
	status bool NULL,
	create_date timestamp NOT NULL,
	create_user_id varchar NOT NULL,
	modified_user_id varchar NULL,
	modified_date timestamp NULL,
	CONSTRAINT rhpkemployee PRIMARY KEY (employee_id),
	CONSTRAINT rhpkemployee_company FOREIGN KEY (company_id) REFERENCES public.rhtcompany(company_id),
	CONSTRAINT rhpkemployee_person FOREIGN KEY (person_id) REFERENCES public.rhtperson(person_id)
);

-- Column comments

COMMENT ON COLUMN public.rhtemployee.company_id IS 'Codigo de compañia';


-- public.rhtmeasurer definition

-- Drop table

-- DROP TABLE public.rhtmeasurer;

CREATE TABLE public.rhtmeasurer (
	measurer_id numeric NOT NULL,
	client_id numeric NOT NULL, -- Clave foranea de la tabla cliente
	measurermeterm3 numeric NOT NULL,
	status bool NOT NULL,
	create_user_id varchar NOT NULL,
	create_date timestamp NOT NULL,
	modified_user_id varchar NULL,
	modified_date timestamp NULL,
	CONSTRAINT rhpkmeasurer PRIMARY KEY (measurer_id),
	CONSTRAINT rhpkmeasurer_client FOREIGN KEY (client_id) REFERENCES public.rhtclient(client_id)
);

-- Column comments

COMMENT ON COLUMN public.rhtmeasurer.client_id IS 'Clave foranea de la tabla cliente';


-- public.rhtuser definition

-- Drop table

-- DROP TABLE public.rhtuser;

CREATE TABLE public.rhtuser (
	user_id numeric NOT NULL,
	person_id numeric NOT NULL,
	company_id numeric NOT NULL, -- Codigo de la compañia
	user_name varchar NOT NULL,
	status bool NOT NULL,
	create_user_id varchar NOT NULL,
	create_date timestamp NOT NULL,
	modified_user_id varchar NULL,
	modified_date timestamp NULL,
	CONSTRAINT rhpkuser PRIMARY KEY (user_id),
	CONSTRAINT rhpkuser_company FOREIGN KEY (company_id) REFERENCES public.rhtcompany(company_id),
	CONSTRAINT rhpkuser_person FOREIGN KEY (person_id) REFERENCES public.rhtperson(person_id)
);

-- Column comments

COMMENT ON COLUMN public.rhtuser.company_id IS 'Codigo de la compañia';


-- public.rhsecclient definition

-- DROP SEQUENCE public.rhsecclient;

CREATE SEQUENCE public.rhsecclient
	INCREMENT BY 1
	MINVALUE 1
	MAXVALUE 9223372036854775807
	START 1
	CACHE 1
	NO CYCLE;


-- public.rhseccompany definition

-- DROP SEQUENCE public.rhseccompany;

CREATE SEQUENCE public.rhseccompany
	INCREMENT BY 1
	MINVALUE 1
	MAXVALUE 9223372036854775807
	START 1
	CACHE 1
	NO CYCLE;


-- public.rhsecemployee definition

-- DROP SEQUENCE public.rhsecemployee;

CREATE SEQUENCE public.rhsecemployee
	INCREMENT BY 1
	MINVALUE 1
	MAXVALUE 9223372036854775807
	START 1
	CACHE 1
	NO CYCLE;


-- public.rhsecmeasurer definition

-- DROP SEQUENCE public.rhsecmeasurer;

CREATE SEQUENCE public.rhsecmeasurer
	INCREMENT BY 1
	MINVALUE 1
	MAXVALUE 9223372036854775807
	START 1
	CACHE 1
	NO CYCLE;


-- public.rhsecperson definition

-- DROP SEQUENCE public.rhsecperson;

CREATE SEQUENCE public.rhsecperson
	INCREMENT BY 1
	MINVALUE 1
	MAXVALUE 9223372036854775807
	START 1
	CACHE 1
	NO CYCLE;


-- public.rhsecuser definition

-- DROP SEQUENCE public.rhsecuser;

CREATE SEQUENCE public.rhsecuser
	INCREMENT BY 1
	MINVALUE 1
	MAXVALUE 9223372036854775807
	START 1
	CACHE 1
	NO CYCLE;